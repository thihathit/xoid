<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="xoid Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="xoid Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="xoid" href="/opensearch.xml"><title data-react-helmet="true">Local component state Â· xoid</title><meta data-react-helmet="true" property="twitter:image" content="https://xoid.dev/img/logo-og.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for xoid"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:image" content="https://xoid.dev/img/logo.png"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="twitter:image" content="https://xoid.dev/img/logo.png"><meta data-react-helmet="true" property="og:title" content="Local component state Â· xoid"><meta data-react-helmet="true" name="description" content="Unified way for local and global state management in React"><meta data-react-helmet="true" property="og:description" content="Unified way for local and global state management in React"><meta data-react-helmet="true" property="og:url" content="https://xoid.dev/docs/recipes/local-state"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://PU1TKKPFLJ-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://xoid.dev/docs/recipes/local-state"><link rel="stylesheet" href="/styles.f271ebe8.css">
<link rel="stylesheet" href="/main.8c420ff3.css">
<link rel="preload" href="/styles.6693d063.js" as="script">
<link rel="preload" href="/runtime~main.21201d81.js" as="script">
<link rel="preload" href="/main.84ff81d5.js" as="script">
<link rel="preload" href="/1.f9e119ed.js" as="script">
<link rel="preload" href="/2.eb94dce2.js" as="script">
<link rel="preload" href="/518cb78c.79497ce3.js" as="script">
<link rel="preload" href="/35.096c2795.js" as="script">
<link rel="preload" href="/935f2afb.acfa6467.js" as="script">
<link rel="preload" href="/17896441.30c5a4df.js" as="script">
<link rel="preload" href="/3e2466ef.25d1a576.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-mini.svg" alt="xoid"><strong class="navbar__title">xoid</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/examples">Examples</a><a href="https://github.com/onurkerimov/xoid" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-mini.svg" alt="xoid"><strong class="navbar__title">xoid</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/examples">Examples</a></li><li class="menu__list-item"><a href="https://github.com/onurkerimov/xoid" target="_blank" rel="noopener noreferrer" class="menu__link navbar-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Local component state</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="unified-way-for-local-and-global-state-management-in-react"></a>Unified way for local and global state management in React<a aria-hidden="true" tabindex="-1" class="hash-link" href="#unified-way-for-local-and-global-state-management-in-react" title="Direct link to heading">#</a></h1><p><strong>xoid</strong> is a scalable state management library with the aim of unifying global state and local component state in single API. This API has a small surface area and it&#x27;s composed of low-level building blocks for creating advanced state management patterns. </p><p>In React world, separating logic and UI via custom hooks is already a common practice. However, xoid offers a further possibility. With xoid, you can separate component logic and UI in a truly <strong>framework-agnostic</strong> manner.</p><p>xoid is based on atomic stores. While <code>useStore</code> hook is used for consuming global <strong>xoid</strong> stores, there&#x27;s also the <code>useLocal</code> hook, which can be used to create stores on-the-fly, inside React components. These stores are kept around throughout a component&#x27;s lifecycle, and can be cleaned up when the component is unmounted.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="useapp-react-vs-appmodel-xoid"></a><code>useApp</code> (React) vs. <code>AppModel</code> (xoid)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#useapp-react-vs-appmodel-xoid" title="Direct link to heading">#</a></h2><p>To make a comparison between hooks and xoid models, let&#x27;s consider the following custom React hook. It uses <code>useState</code> and <code>useEffect</code> hooks internally.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> useState</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">useApp</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setSum</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setSum</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain">  </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>Here&#x27;s the equivalent <strong>xoid</strong> model:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> create </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;xoid&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">AppModel</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> alpha </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> beta </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> sum </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>Observe that the only import is <code>create</code> from xoid. <code>create</code> is the main building block of xoid, that&#x27;s used for creating stores. Our function, <code>AppModel</code> is framework-agnostic. It means that it can easily be tested outside React, or perhaps it can be used inside another UI framework in the future. </p><p>Another advantage of xoid is that there&#x27;s no need to expose <code>setAlpha</code> and <code>setBeta</code> like in the custom hook. We could have returned them, however we prefered not to. This can be advantageous especially for the cases where there are a lot of state portions to be read and written.</p><p>Using <code>useApp</code> custom hook in a React component looks like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">App</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useApp</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">sum</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setAlpha</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">        increase alpha</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">button</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setBeta</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">beta </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">        increase beta</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">button</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">div</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>whereas consuming <code>AppModel</code> model looks like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">set</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useLocal</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useStore </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;xoid&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword module" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">App</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> store </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useLocal</span><span class="token punctuation" style="color:#657b83">(</span><span class="token maybe-class-name">AppModel</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useStore</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">sum</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">set</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">        increase alpha</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">button</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">set</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">        increase beta</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">button</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">div</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>In xoid, <code>useLocal</code> and <code>useStore</code> hooks are usually used in tandem for local component state. <code>useLocal</code> creates a local value (once), and <code>useStore</code> subscribes the component to it.
However, they need not to be used consecutively. One may prefer to create a local store in a parent component, and subscribe to that store in a child component. xoid is designed to provide the necessary flexibility for diverse requirements. Similarly, one can decide to consume a local store using a <code>useEffect</code> hook, without causing renders in the component.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="lets-spice-things-up"></a>Let&#x27;s spice things up<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lets-spice-things-up" title="Direct link to heading">#</a></h2><p>Now, to increase the difficulty of the stress test, let&#x27;s assume that <code>App</code> is a controlled component, and we need to keep the state in sync with <code>props.alpha</code> and <code>props.beta</code>. So, usage of the hook should be changed to:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useCustomHook</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">)</span></div></div></div></div></div><p>So, we need to modify our custom hook into the following:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> useState</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">useCustomHook</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">props</span><span class="token parameter punctuation" style="color:#657b83">:</span><span class="token parameter"> Props</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setAlpha</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setBeta</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setSum</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setSum</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain">  </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>In our <strong>xoid</strong> model on the other hand, we can achieve the same functionality by making <code>alpha</code> and <code>beta</code> into selectors.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> create </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;xoid&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">CustomModel</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">deps</span><span class="token parameter punctuation" style="color:#657b83">:</span><span class="token parameter"> Store</span><span class="token parameter operator" style="color:#fc929e">&lt;</span><span class="token parameter">Props</span><span class="token parameter operator" style="color:#fc929e">&gt;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> sum </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">deps</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">depsbeta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>A lot cleaner. No additional lines.</p><p>To use it in a React component, simply add <code>props</code> as the second argument:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> store </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useLocal</span><span class="token punctuation" style="color:#657b83">(</span><span class="token maybe-class-name">AppModel</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// &lt;== second arg added</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useStore</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#657b83">)</span></div></div></div></div></div><p>Now, some details on what happened. We added a second argument to <code>useLocal</code> hook. When a value is provided in the second argument of <code>useLocal</code> hook, it&#x27;s used to create a local store. Then, across renders, this store&#x27;s value is kept in sync with the next values.</p><p>Even with the addition of this second argument, our closure (<code>AppModel</code>) still runs only once. <code>useLocal</code> hook, guarantees that the function in its first argument will run only once. </p><p>In <code>AppModel</code>, observe that we call it <code>deps</code> instead of <code>props</code>. Because <code>deps</code> is not <code>props</code> itself, it&#x27;s actually a store in sync with <code>props</code>. Stores are reactive objects. This makes our closure (<code>AppModel</code>) able to respond to changes in <code>props</code>, even though it&#x27;s executed only once.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="lets-add-even-more-stress"></a>Let&#x27;s add even more stress!<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lets-add-even-more-stress" title="Direct link to heading">#</a></h2><p>Now, let&#x27;s assume that we have another requirement. Let&#x27;s also run some debounced <code>props.onChange</code> function when the values of <code>alpha</code> and <code>beta</code> is modified. Our custom React hook becomes even more complex when we try to meet this requirement. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> useState</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useEffect</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useCallback </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> debounce </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;lodash&quot;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">useCustomHook</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setAlpha</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setBeta</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setSum</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">setSum</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> debouncedOnChange </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useCallback</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">debounce</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">onChange</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">500</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">onChange</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">useEffect</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">debouncedOnChange</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setAlpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> setBeta </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain">  </span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p><code>useCallback</code>, an additional hook had to come to the scene.</p><p>Meanwhile, in our xoid model, the changes are straightforward:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> create</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;xoid&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> debounce </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;lodash&quot;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">AppModel</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">deps</span><span class="token parameter punctuation" style="color:#657b83">:</span><span class="token parameter"> Store</span><span class="token parameter operator" style="color:#fc929e">&lt;</span><span class="token parameter">Props</span><span class="token parameter operator" style="color:#fc929e">&gt;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> sum </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">deps</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">deps</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> debouncedOnChange </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">debounce</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">deps</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">onChange</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">500</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">debouncedOnChange</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">get</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">beta</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> sum </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><p>Observe that in <code>get(deps.onChange)</code> part, we can use latest version of the <code>props.onChange</code>, without having to  use anything similar to <code>useCallback</code>, or without specifying the deps in a repetitive way. </p><p>Usage of React hooks for complex logic. brings other state caching related problems, especially in large components that there are too many state variables or props to keep track of as deps of <code>useCallback</code>, <code>usEffect</code> <code>useMemo</code>. </p><p>In react throttle, debounce, setInterval, setTimeout</p><p>In addition to all these, with xoid, you have the opportunity to</p><p><strong>xoid</strong> gives a further possibility</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="generalize-common-usestate-patterns"></a>Generalize common <code>useState</code> patterns<a aria-hidden="true" tabindex="-1" class="hash-link" href="#generalize-common-usestate-patterns" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div style="color:#FFFFFF;background:transparent" class="codeBlockTitle_3nn1">./helpers.ts</div><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div class="prism-code language-js codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> create </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;xoid&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword module" style="color:#c5a5c5">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#79b6f2">ToggleSetup</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">payload</span><span class="token parameter punctuation" style="color:#657b83">:</span><span class="token parameter"> boolean </span><span class="token parameter operator" style="color:#fc929e">=</span><span class="token parameter"> </span><span class="token parameter boolean" style="color:#ff8b50">false</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> atom </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">atom</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">atom</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">s</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">!</span><span class="token plain">s</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div style="color:#FFFFFF;background:transparent" class="codeBlockTitle_3nn1">./Component.tsx</div><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div class="prism-code language-js codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#FFFFFF;background:transparent"><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> </span><span class="token maybe-class-name">BooleanModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;./helpers&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> useSetup</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> useAtom </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;@xoid/react&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">$isModalOpen</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> toggleModal</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useSetup</span><span class="token punctuation" style="color:#657b83">(</span><span class="token maybe-class-name">ToggleSetup</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:transparent"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> isModalOpen </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useAtom</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">$isModalOpen</span><span class="token punctuation" style="color:#657b83">)</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/onurkerimov/xoid/blob/master/website/../docs/recipes/local-state.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-10-11T17:34:30.000Z" class="docLastUpdatedAt_217_">10/11/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#useapp-react-vs-appmodel-xoid" class="table-of-contents__link"><code>useApp</code> (React) vs. <code>AppModel</code> (xoid)</a></li><li><a href="#lets-spice-things-up" class="table-of-contents__link">Let&#39;s spice things up</a></li><li><a href="#lets-add-even-more-stress" class="table-of-contents__link">Let&#39;s add even more stress!</a><ul><li><a href="#generalize-common-usestate-patterns" class="table-of-contents__link">Generalize common <code>useState</code> patterns</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/create">API</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/recipes/using-context-correctly">Recipes</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/examples">Examples</a></li><li class="footer__item"><a href="https://github.com/onurkerimov/xoid" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2022 Docusaurus. Thanks to <a href="http://a-maslennikov.com/">Anatoly</a> for the <a href="https://www.flaticon.com/free-icon/ruler_245975">icon</a>.
      </div></div></div></footer></div>
<script src="/styles.6693d063.js"></script>
<script src="/runtime~main.21201d81.js"></script>
<script src="/main.84ff81d5.js"></script>
<script src="/1.f9e119ed.js"></script>
<script src="/2.eb94dce2.js"></script>
<script src="/518cb78c.79497ce3.js"></script>
<script src="/35.096c2795.js"></script>
<script src="/935f2afb.acfa6467.js"></script>
<script src="/17896441.30c5a4df.js"></script>
<script src="/3e2466ef.25d1a576.js"></script>
</body>
</html>